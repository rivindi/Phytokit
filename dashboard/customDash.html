<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Phytokit ‚Äì Custom Lab View</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body {
      background-color: #f4f8fb;
    }
    .graph-container {
      max-height: 300px;
    }
    .form-label {
      font-weight: bold;
    }
    .sidebar {
      height: 100vh;
      position: fixed;
      top: 0;
      left: 0;
      width: 220px;
      background-color: #2c3e50;
      padding-top: 60px;
    }
    .sidebar a {
      padding: 15px;
      display: block;
      color: white;
      text-decoration: none;
    }
    .sidebar a:hover {
      background-color: #34495e;
    }
    .header {
      padding: 10px 20px;
      background: #004d7a;
      color: white;
      display: flex;
      justify-content: space-between;
      align-items: center;
      position: fixed;
      top: 0;
      left: 220px;
      right: 0;
      z-index: 1000;
    }
	footer {
      text-align: center;
      padding: 10px;
      background: #004d7a;
      color: white;
      margin-top: 20px;
    } 
  </style>
</head>
<body>
  <div class="sidebar">
    <a href="#">üë§ Rivindi Ekanayake</a>
    <a href="#">üè† Dashboard- Custom monitoring</a>
    <a href="#">üìä General Data View</a>
    <a href="#">üî• Thermal Stress Analysis</a>
    <a href="#">üåø Optimal Growth Conditions</a>
    <a href="#">üí° Photoperiodism and Light Stress Studies</a>
    <a href="#">üåû Light Sensitivity and Growth Patterns</a>
  </div>

  <div class="header">
    <h2>Phytokit ‚Äì Custom monitoring</h2>
    <div>
      <strong>User:</strong> Rivindi | <strong>Location:</strong> Liverpool | <strong>Date:</strong> 10th May 2025 | <strong>Time:</strong> <span id="liveTime"></span>
    </div>
  </div>

  <div class="container-fluid" style="margin-left: 220px; padding-top: 80px;">
    <div class="row">
      <div class="col-md-4">
        <h5>Controlled Variable Setup</h5>
        <form id="customControlForm">
          <div class="mb-2">
            <label class="form-label">Target Temperature (¬∞C)</label>
            <input type="number" class="form-control" name="temperature" value="25">
          </div>
          <div class="mb-2">
            <label class="form-label">Light Intensity (lux)</label>
            <input type="number" class="form-control" name="light" value="300">
          </div>
          <div class="mb-2">
            <label class="form-label">Soil Moisture (%)</label>
            <input type="number" class="form-control" name="moisture" value="45">
          </div>
          <div class="mb-2">
            <label class="form-label">Humidity (%)</label>
            <input type="number" class="form-control" name="humidity" value="55">
          </div>
          <div class="mb-2">
            <label class="form-label">Duration (mins)</label>
            <input type="number" class="form-control" name="duration" value="30">
          </div>
          <button type="submit" class="btn btn-success mt-2">Start Simulation</button>
        </form>
      </div>

      <div class="col-md-8">
        <h5>Simulation Output (Live)</h5>
        <div class="graph-container mb-4">
          <canvas id="graph1"></canvas>
        </div>
        <div class="graph-container mb-4">
          <canvas id="graph2"></canvas>
        </div>
        <div class="graph-container mb-4">
          <canvas id="graph3"></canvas>
        </div>
        <div class="graph-container mb-4">
          <canvas id="graph4"></canvas>
        </div>
      </div>
    </div>

    <h5 class="mt-4">Experiment Data Logs</h5>
    <table class="table table-bordered">
      <thead>
        <tr>
          <th>Timestamp</th>
          <th>Temperature (¬∞C)</th>
          <th>Light (lux)</th>
          <th>Moisture (%)</th>
          <th>Humidity (%)</th>
        </tr>
      </thead>
      <tbody id="logTable">
        <tr><td>16:20</td><td>22</td><td>320</td><td>46</td><td>54</td></tr>
        <tr><td>16:23</td><td>22.3</td><td>310</td><td>45.5</td><td>55</td></tr>
        <tr><td>16:26</td><td>22.4</td><td>315</td><td>45</td><td>55.2</td></tr>
        <tr><td>16:29</td><td>22.5</td><td>318</td><td>44.8</td><td>56</td></tr>
      </tbody>
    </table>
  </div>
 <footer>
    &copy; 2025 Phytokit by Rivindi | IoT Based Phytotron environmental monitoring and control system. 
  </footer>
  <script>
    const now = new Date();
    setInterval(() => {
      const time = new Date();
      document.getElementById("liveTime").innerText = time.toLocaleTimeString();
    }, 1000);

    const ctx1 = document.getElementById('graph1').getContext('2d');
    const ctx2 = document.getElementById('graph2').getContext('2d');
    const ctx3 = document.getElementById('graph3').getContext('2d');
    const ctx4 = document.getElementById('graph4').getContext('2d');

    const dataLabels = ["16:20", "16:23", "16:26", "16:29"];

    new Chart(ctx1, {
      type: 'line',
      data: {
        labels: dataLabels,
        datasets: [{ label: 'Temperature (¬∞C)', data: [22, 22.3, 22.4, 22.5], backgroundColor: 'rgba(255,99,132,0.5)' }]
      }
    });

    new Chart(ctx2, {
      type: 'line',
      data: {
        labels: dataLabels,
        datasets: [{ label: 'Light (lux)', data: [320, 310, 315, 318], backgroundColor: 'rgba(54,162,235,0.5)' }]
      }
    });

    new Chart(ctx3, {
      type: 'line',
      data: {
        labels: dataLabels,
        datasets: [{ label: 'Moisture (%)', data: [46, 45.5, 45, 44.8], backgroundColor: 'rgba(75,192,192,0.5)' }]
      }
    });

    new Chart(ctx4, {
      type: 'line',
      data: {
        labels: dataLabels,
        datasets: [{ label: 'Humidity (%)', data: [54, 55, 55.2, 56], backgroundColor: 'rgba(153,102,255,0.5)' }]
      }
    });
  </script>
</body>
</html>
